!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=34)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(19)),r(n(42)),r(n(20)),r(n(21)),r(n(44)),r(n(12)),r(n(45)),r(n(46))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(37)),r(n(38)),r(n(39)),r(n(40))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),o=n(54),i=n(8),s=function(){function e(){}return Object.defineProperty(e,"disabled",{get:function(){return this.disabled_},set:function(e){e&&(this.cmpStatus=r.CmpStatus.ERROR),this.disabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"uiVisible",{get:function(){return this.uiVisible_},set:function(e){e?(this.displayStatus=r.DisplayStatus.VISIBLE,this.eventStatus=r.EventStatus.CMP_UI_SHOWN):(this.displayStatus=r.DisplayStatus.DISABLED,this.eventStatus=r.EventStatus.TC_LOADED),this.uiVisible_=e},enumerable:!0,configurable:!0}),e.cacheTCString=function(e){this.tcString_=e},Object.defineProperty(e,"tcString",{get:function(){return this.tcString_},set:function(e){this.tcModel=i.TCString.decode(e),this.cacheTCString(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"tcModel",{get:function(){return this.tcModel_},set:function(e){if(null===e)this.gdprApplies=!1,this.displayStatus=r.DisplayStatus.DISABLED,this.tcModel_=null;else{if(!this.isTCModel(e))throw this.cmpStatus=r.CmpStatus.ERROR,new Error("Invalid value ("+e+") passed for tcModel");this.gdprApplies=!0,this.displayStatus=r.DisplayStatus.HIDDEN,void 0!==this.tcModel_?this.eventStatus=r.EventStatus.USER_ACTION_COMPLETE:this.eventStatus=r.EventStatus.TC_LOADED,this.tcModel_=e.clone(),this.tcString_=""}this.cmpStatus=r.CmpStatus.LOADED,this.eventQueue.exec()},enumerable:!0,configurable:!0}),e.isPurposeRestrictionVector=function(e){var t=e;return"function"==typeof t.add&&"function"==typeof t.getVendors&&"function"==typeof t.getRestrictionType&&"function"==typeof t.vendorHasRestriction&&"function"==typeof t.getMaxVendorId&&"function"==typeof t.getRestrictions&&"function"==typeof t.getPurposes&&"function"==typeof t.isEmpty&&"function"==typeof t.isEncodable},e.isVector=function(e){var t=e;return"number"==typeof t.maxId&&"function"==typeof t.has&&"function"==typeof t.set&&"function"==typeof t.empty&&"function"==typeof t.forEach&&"number"==typeof t.size&&"function"==typeof t.setAll},e.isTCModel=function(e){var t=e;return"boolean"==typeof t.isServiceSpecific&&"boolean"==typeof t.useNonStandardStacks&&"boolean"==typeof t.purposeOneTreatment&&"string"==typeof t.publisherCountryCode&&this.isVector(t.vendorsAllowed)&&this.isVector(t.vendorsDisclosed)&&this.isVector(t.purposeConsents)&&this.isVector(t.purposeLegitimateInterest)&&this.isVector(t.vendorConsents)&&this.isVector(t.vendorLegitimateInterest)&&this.isVector(t.specialFeatureOptIns)&&this.isVector(t.publisherConsents)&&this.isVector(t.publisherLegitimateInterest)&&this.isVector(t.publisherCustomConsents)&&this.isVector(t.publisherCustomLegitimateInterest)&&this.isPurposeRestrictionVector(t.publisherRestrictions)},e.reset=function(){delete this.tcModel_,delete this.tcString_,delete this.cmpId,delete this.cmpVersion,delete this.gdprApplies,delete this.eventStatus,this.uiVisible_=!1,this.disabled_=!1,this.cmpStatus=r.CmpStatus.LOADING,this.displayStatus=r.DisplayStatus.HIDDEN,this.eventQueue.clear()},e.apiVersion="2",e.tcfPolicyVersion=2,e.cmpStatus=r.CmpStatus.LOADING,e.displayStatus=r.DisplayStatus.HIDDEN,e.eventQueue=new o.EventListenerQueue,e.uiVisible_=!1,e.disabled_=!1,e}();t.CmpApiModel=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(){}return e.encode=function(e,t){var n;if("string"==typeof e&&(e=parseInt(e,10)),(n=e.toString(2)).length>t||e<0)throw new r.EncodingError(e+" too large to encode into "+t);return n.length<t&&(n="0".repeat(t-n.length)+n),n},e.decode=function(e){return parseInt(e,2)},e}();t.IntEncoder=o},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.clone=function(){var e=this,t=new this.constructor;return Object.keys(this).forEach((function(n){var r=e.deepClone(e[n]);void 0!==r&&(t[n]=r)})),t},e.prototype.deepClone=function(e){var t,n,o=typeof e;if("number"===o||"string"===o||"boolean"===o)return e;if(null!==e&&"object"===o){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var i=[];try{for(var s=r(e),c=s.next();!c.done;c=s.next()){var u=c.value;i.push(this.deepClone(u))}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return e instanceof Array?i:new e.constructor(i)}var a={};for(var p in e)e.hasOwnProperty(p)&&(a[p]=this.deepClone(e[p]));return a}},e}();t.Cloneable=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(43))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.encode=function(e){return+e+""},e.decode=function(e){return"1"===e},e}();t.BooleanEncoder=r},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(36)),r(n(55)),r(n(16))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(11)),r(n(1)),r(n(0)),r(n(4)),r(n(28)),r(n(29)),r(n(30)),r(n(50))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=n(10),c=n(8),u=n(5),a=n(7),p=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.listenerId=r,new u.PolyFill,o.isSuccess&&o.sendData(),o}return o(t,e),t.prototype.sendData=function(){var e=this,t=this.callback,n=i.CmpApiModel.tcModel;n.gvl||i.CmpApiModel.tcString?t(new a.TCData(this.param,this.listenerId),!0):(n.gvl=new c.GVL(n.vendorListVersion),n.gvl.readyPromise.then((function(){return t(new a.TCData(e.param,e.listenerId),!0)}),this.fail).catch(this.fail))},t.prototype.success=function(){this.isSuccess=!0},t.prototype.isValid=function(){var e=!0;return void 0!==this.param&&(e=(e=Array.isArray(this.param))&&this.param.every((function(e){return Number.isInteger(e)}))),e},t}(s.Command);t.GetTCDataCommand=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.callback=e,this.param=t,this.isValid()?this.success():this.fail()}return e.prototype.isValid=function(){return!0},e.prototype.fail=function(){(0,this.callback)(null,!1)},e}();t.Command=r},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(17)),r(n(26)),r(n(27)),r(n(14)),r(n(49))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.RestrictionType||(t.RestrictionType={}))[r.NOT_ALLOWED=0]="NOT_ALLOWED",r[r.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",r[r.REQUIRE_LI=2]="REQUIRE_LI"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=n(0),i=function(){function e(){}return e.encode=function(e,t){for(var n="",o=1;o<=t;o++)n+=r.BooleanEncoder.encode(e.has(o));return n},e.decode=function(e){for(var t=new o.Vector,n=1;n<=e.length;n++)r.BooleanEncoder.decode(e[n-1])&&t.set(n);return t.bitLength=e.length,t},e}();t.FixedVectorEncoder=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(){function e(){}var t,n,o,i,s,c,u,a,p,l,d,f,h,v,y,g,m,_,b,E;return t=r.Fields.cmpId,n=r.Fields.cmpVersion,o=r.Fields.consentLanguage,i=r.Fields.consentScreen,s=r.Fields.created,c=r.Fields.isServiceSpecific,u=r.Fields.lastUpdated,a=r.Fields.policyVersion,p=r.Fields.publisherCountryCode,l=r.Fields.publisherCustomLegitimateInterest,d=r.Fields.publisherCustomConsents,f=r.Fields.publisherLegitimateInterest,h=r.Fields.publisherConsents,v=r.Fields.purposeConsents,y=r.Fields.purposeLegitimateInterest,g=r.Fields.purposeOneTreatment,m=r.Fields.specialFeatureOptIns,_=r.Fields.useNonStandardStacks,b=r.Fields.vendorListVersion,E=r.Fields.version,e[t]=12,e[n]=12,e[o]=12,e[i]=6,e[s]=36,e[c]=1,e[u]=36,e[a]=6,e[p]=12,e[l]=24,e[d]=24,e[f]=24,e[h]=24,e[v]=24,e[y]=24,e[g]=1,e[m]=12,e[_]=1,e[b]=12,e[E]=6,e.anyBoolean=1,e.encodingType=1,e.maxId=16,e.numCustomPurposes=6,e.numEntries=12,e.numRestrictions=12,e.purposeId=6,e.restrictionType=2,e.segmentType=3,e.singleOrRange=1,e.vendorId=16,e}();t.BitLength=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.PING="ping",e.GET_TC_DATA="getTCData",e.GET_IN_APP_TC_DATA="getInAppTCData",e.GET_VENDOR_LIST="getVendorList",e.ADD_EVENT_LISTENER="addEventListener",e.REMOVE_EVENT_LISTENER="removeEventListener",e}();t.TCFCommands=r},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var c=n(8),u=n(2),a=function(e){function t(t,n){var r=e.call(this)||this;if(r.eventStatus=u.CmpApiModel.eventStatus,r.cmpStatus=u.CmpApiModel.cmpStatus,r.listenerId=n,u.CmpApiModel.gdprApplies){var o=u.CmpApiModel.tcModel;u.CmpApiModel.tcString?r.tcString=u.CmpApiModel.tcString:(r.tcString=c.TCString.encode(o),u.CmpApiModel.cacheTCString(r.tcString)),r.isServiceSpecific=o.isServiceSpecific,r.useNonStandardStacks=o.useNonStandardStacks,r.purposeOneTreatment=o.purposeOneTreatment,r.publisherCC=o.publisherCountryCode,r.outOfBand={allowedVendors:r.createVectorField(o.vendorsAllowed,t),disclosedVendors:r.createVectorField(o.vendorsDisclosed,t)},r.purpose={consents:r.createVectorField(o.purposeConsents),legitimateInterests:r.createVectorField(o.purposeLegitimateInterest)},r.vendor={consents:r.createVectorField(o.vendorConsents,t),legitimateInterests:r.createVectorField(o.vendorLegitimateInterest,t)},r.specialFeatureOptins=r.createVectorField(o.specialFeatureOptIns),r.publisher={consents:r.createVectorField(o.publisherConsents),legitimateInterests:r.createVectorField(o.publisherLegitimateInterest),customPurpose:{consents:r.createVectorField(o.publisherCustomConsents),legitimateInterests:r.createVectorField(o.publisherCustomLegitimateInterest)},restrictions:r.createRestrictions(o.publisherRestrictions)}}return r}return o(t,e),t.prototype.createRestrictions=function(e){var t={};if(e.numRestrictions>0)for(var n=e.getMaxVendorId(),r=function(n){var r=n.toString();e.getRestrictions(n).forEach((function(e){var n=e.purposeId.toString();t[n]||(t[n]={}),t[n][r]=e.restrictionType}))},o=1;o<=n;o++)r(o);return t},t.prototype.createVectorField=function(e,t){return t?t.reduce((function(t,n){return t[n+""]=e.has(+n),t}),{}):s(e).reduce((function(e,t){return e[t[0].toString(10)]=t[1],e}),{})},t}(n(32).Response);t.TCData=a},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(6)),r(n(18)),r(n(41)),r(n(13)),r(n(3)),r(n(22)),r(n(23)),r(n(25)),r(n(24))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=function(){function e(){}return e.encode=function(e,t){return r.IntEncoder.encode(Math.round(e.getTime()/100),t)},e.decode=function(e){var t=new Date;return t.setTime(100*r.IntEncoder.decode(e)),t},e}();t.DateEncoder=o},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t}return o(t,e),t.prototype.isEmpty=function(){return!this.root},t.prototype.add=function(e){var t,n={value:e,left:null,right:null};if(this.isEmpty())this.root=n;else for(t=this.root;;)if(e<t.value){if(null===t.left){t.left=n;break}t=t.left}else{if(!(e>t.value))break;if(null===t.right){t.right=n;break}t=t.right}},t.prototype.get=function(){for(var e=[],t=this.root;t;)if(t.left){for(var n=t.left;n.right&&n.right!=t;)n=n.right;n.right==t?(n.right=null,e.push(t.value),t=t.right):(n.right=t,t=t.left)}else e.push(t.value),t=t.right;return e},t.prototype.contains=function(e){for(var t=!1,n=this.root;n;){if(n.value===e){t=!0;break}e>n.value?n=n.right:e<n.value&&(n=n.left)}return t},t.prototype.min=function(e){var t;for(void 0===e&&(e=this.root);e;)e.left?e=e.left:(t=e.value,e=null);return t},t.prototype.max=function(e){var t;for(void 0===e&&(e=this.root);e;)e.right?e=e.right:(t=e.value,e=null);return t},t.prototype.remove=function(e,t){void 0===t&&(t=this.root);for(var n=null,r="left";t;)if(e<t.value)n=t,t=t.left,r="left";else if(e>t.value)n=t,t=t.right,r="right";else{if(t.left||t.right)if(t.left)if(t.right){var o=this.min(t.right);this.remove(o,t.right),t.value=o}else n?n[r]=t.left:this.root=t.left;else n?n[r]=t.right:this.root=t.right;else n?n[r]=null:this.root=null;t=null}},t}(n(4).Cloneable);t.BinarySearchTree=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.cmpId="cmpId",e.cmpVersion="cmpVersion",e.consentLanguage="consentLanguage",e.consentScreen="consentScreen",e.created="created",e.supportOOB="supportOOB",e.isServiceSpecific="isServiceSpecific",e.lastUpdated="lastUpdated",e.numCustomPurposes="numCustomPurposes",e.policyVersion="policyVersion",e.publisherCountryCode="publisherCountryCode",e.publisherCustomConsents="publisherCustomConsents",e.publisherCustomLegitimateInterest="publisherCustomLegitimateInterest",e.publisherLegitimateInterest="publisherLegitimateInterest",e.publisherConsents="publisherConsents",e.publisherRestrictions="publisherRestrictions",e.purposeConsents="purposeConsents",e.purposeLegitimateInterest="purposeLegitimateInterest",e.purposeOneTreatment="purposeOneTreatment",e.specialFeatureOptIns="specialFeatureOptIns",e.useNonStandardStacks="useNonStandardStacks",e.vendorConsents="vendorConsents",e.vendorLegitimateInterest="vendorLegitimateInterest",e.vendorListVersion="vendorListVersion",e.vendorsAllowed="vendorsAllowed",e.vendorsDisclosed="vendorsDisclosed",e.version="version",e}();t.Fields=r},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),s=n(1),c=n(12),u=n(5),a=function(e){function t(t,n){var r=e.call(this)||this;return new u.PolyFill,void 0!==t&&(r.purposeId=t),void 0!==n&&(r.restrictionType=n),r}return o(t,e),t.unHash=function(e){var n=e.split(this.hashSeparator),r=new t;if(2!==n.length)throw new s.TCModelError("hash",e);return r.purposeId=parseInt(n[0],10),r.restrictionType=parseInt(n[1],10),r},Object.defineProperty(t.prototype,"hash",{get:function(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return""+this.purposeId+t.hashSeparator+this.restrictionType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"purposeId",{get:function(){return this.purposeId_},set:function(e){this.purposeId_=e},enumerable:!0,configurable:!0}),t.prototype.isValid=function(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===c.RestrictionType.NOT_ALLOWED||this.restrictionType===c.RestrictionType.REQUIRE_CONSENT||this.restrictionType===c.RestrictionType.REQUIRE_LI)},t.prototype.isSameAs=function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType},t.hashSeparator="-",t}(i.Cloneable);t.PurposeRestriction=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(1),i=function(){function e(){}return e.encode=function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,i=e.charCodeAt(1)-65;if(n<0||n>25||i<0||i>25)throw new o.EncodingError("invalid language code: "+e);if(t%2==1)throw new o.EncodingError("numBits must be even, "+t+" is not valid");return t/=2,r.IntEncoder.encode(n,t)+r.IntEncoder.encode(i,t)},e.decode=function(e){if(e.length%2)throw new o.DecodingError("invalid bit length for language");var t=e.length/2,n=r.IntEncoder.decode(e.slice(0,t))+65,i=r.IntEncoder.decode(e.slice(t))+65;return String.fromCharCode(n)+String.fromCharCode(i)},e}();t.LangEncoder=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(6),i=n(14),s=n(0),c=function(){function e(){}return e.encode=function(e){var t=r.IntEncoder.encode(e.numRestrictions,i.BitLength.numRestrictions);return e.isEncodable()||e.getRestrictions().forEach((function(n){t+=r.IntEncoder.encode(n.purposeId,i.BitLength.purposeId),t+=r.IntEncoder.encode(n.restrictionType,i.BitLength.restrictionType);for(var s=e.getVendors(n),c=s.length,u=0,a=0,p="",l=0;l<c;l++){var d=s[l];if(0===a&&(u++,a=d),l===c-1||s[l+1]>d+1){var f=!(d===a);p+=o.BooleanEncoder.encode(f),p+=r.IntEncoder.encode(a,i.BitLength.vendorId),f&&(p+=r.IntEncoder.encode(d,i.BitLength.vendorId)),a=0}}t+=r.IntEncoder.encode(u,i.BitLength.numEntries),t+=p})),t},e.decode=function(e){var t=0,n=new s.PurposeRestrictionVector,c=r.IntEncoder.decode(e.substr(t,i.BitLength.numRestrictions));t+=i.BitLength.numRestrictions;for(var u=0;u<c;u++){var a=r.IntEncoder.decode(e.substr(t,i.BitLength.purposeId));t+=i.BitLength.purposeId;var p=r.IntEncoder.decode(e.substr(t,i.BitLength.restrictionType));t+=i.BitLength.restrictionType;var l=new s.PurposeRestriction(a,p),d=r.IntEncoder.decode(e.substr(t,i.BitLength.numEntries));t+=i.BitLength.numEntries;for(var f=0;f<d;f++){var h=o.BooleanEncoder.decode(e.substr(t,i.BitLength.anyBoolean));t+=i.BitLength.anyBoolean;var v=r.IntEncoder.decode(e.substr(t,i.BitLength.vendorId));if(t+=i.BitLength.vendorId,h){var y=r.IntEncoder.decode(e.substr(t,i.BitLength.vendorId));t+=i.BitLength.vendorId;for(var g=v;g<v+y;g++)n.add(g,l)}else n.add(v,l)}}return n.bitLength=t,n},e}();t.PurposeRestrictionVectorEncoder=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(11),i=n(3),s=n(6),c=n(13),u=n(25),a=function(){function e(){}return e.encode=function(e){var t,n=[],r=[],c=i.IntEncoder.encode(e.maxId,o.BitLength.maxId),a="",p=o.BitLength.maxId+o.BitLength.encodingType,l=p+e.maxId,d=2*o.BitLength.vendorId+o.BitLength.singleOrRange+o.BitLength.numEntries,f=p+o.BitLength.numEntries;return e.forEach((function(i,c){a+=s.BooleanEncoder.encode(i),(t=e.maxId>d&&f<l)&&i&&(e.has(c+1)?0===r.length&&(r.push(c),f+=o.BitLength.singleOrRange,f+=o.BitLength.vendorId):(r.push(c),f+=o.BitLength.vendorId,n.push(r),r=[]))})),t?(c+=u.VectorEncodingType.RANGE+"",c+=this.buildRangeEncoding(n)):(c+=u.VectorEncodingType.FIELD+"",c+=a),c},e.decode=function(e){var t,n=0,a=i.IntEncoder.decode(e.substr(n,o.BitLength.maxId));n+=o.BitLength.maxId;var p=i.IntEncoder.decode(e.charAt(n));if(n+=o.BitLength.encodingType,p===u.VectorEncodingType.RANGE){t=new r.Vector;var l=i.IntEncoder.decode(e.substr(n,o.BitLength.numEntries));n+=o.BitLength.numEntries;for(var d=0;d<l;d++){var f=s.BooleanEncoder.decode(e.charAt(n));n+=o.BitLength.singleOrRange;var h=i.IntEncoder.decode(e.substr(n,o.BitLength.vendorId));if(n+=o.BitLength.vendorId,f){var v=i.IntEncoder.decode(e.substr(n,o.BitLength.vendorId));n+=o.BitLength.vendorId;for(var y=h;y<=v;y++)t.set(y)}else t.set(h)}}else{var g=e.substr(n,a);n+=a,t=c.FixedVectorEncoder.decode(g)}return t.bitLength=n,t},e.buildRangeEncoding=function(e){var t=e.length,n=i.IntEncoder.encode(t,o.BitLength.numEntries);return e.forEach((function(e){var t=1===e.length;n+=s.BooleanEncoder.encode(!t),n+=i.IntEncoder.encode(e[0],o.BitLength.vendorId),t||(n+=i.IntEncoder.encode(e[1],o.BitLength.vendorId))})),n},e}();t.VendorVectorEncoder=a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.VectorEncodingType||(t.VectorEncodingType={}))[r.FIELD=0]="FIELD",r[r.RANGE=1]="RANGE"},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(47)),r(n(48))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(){}return e.encode=function(t){if(!/^[0-1]+$/.test(t))throw new r.EncodingError("Base64url Encoding: Invalid bitField");for(var n=t.length,o="",i=0;i<n;i+=e.ONE_BYTE){var s=t.substr(i,e.ONE_BYTE);s.length<e.ONE_BYTE&&(s+="0".repeat(e.ONE_BYTE-s.length)),o+=String.fromCharCode(parseInt(s,2))}for(o=btoa(o);"="===o.charAt(o.length-1);)o=o.slice(0,-1);return(o=o.replace(/\//g,"_")).replace(/\+/g,"-")},e.decode=function(t){if(!/^[A-Za-z0-9\-_]+$/.test(t))throw new r.DecodingError("Invalid Base64url Encoding");switch((t=(t=t.replace(/_/g,"/")).replace(/-/g,"+")).length<2&&(t+="A".repeat(2-t.length)),t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new r.DecodingError("Invalidly encoded Base64URL string")}for(var n=(t=atob(t)).length,o="",i=0;i<n;i++){var s=t.charCodeAt(i).toString(2);o+="0".repeat(e.ONE_BYTE-s.length)+s}return o},e.ONE_BYTE=8,e}();t.Base64Url=o},function(e,t,n){"use strict";(function(e){var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),s=n(1),c=n(29),u=n(0),a=function(t){function n(r){var o=t.call(this)||this;o.isReady_=!1;var i=n.baseUrl;if(o.lang_=n.DEFAULT_LANGUAGE,o.isVendorList(r))o.deserialize(r),o.isReady_=!0,o.readyPromise=e.resolve();else{if(!i)throw new s.GVLError("must specify GVL.baseUrl before loading GVL json");i+=r>0?n.versionedFilename.replace("[VERSION]",r+""):n.latestFilename,o.readyPromise=o.fetchJson(i)}return o.readyPromise.then((function(){o.cacheLanguage(n.DEFAULT_LANGUAGE),o.isReady_=!0})).catch((function(){})),o}return o(n,t),Object.defineProperty(n,"baseUrl",{get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new s.GVLError("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e},enumerable:!0,configurable:!0}),n.prototype.emptyLanguageCache=function(e){var t=!1;return e?(n.LANGUAGE_CACHE=new Map,t=!0):n.LANGUAGE_CACHE.has(e)&&(n.LANGUAGE_CACHE.delete(e),t=!0),t},n.prototype.cacheLanguage=function(e){n.LANGUAGE_CACHE.set(e,{gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})},n.prototype.fetchJson=function(t){var n=this;return new e((function(e,r){c.Json.fetch(t).then((function(t){n.deserialize(t),e()})).catch((function(e){r(new s.GVLError(e.message))}))}))},n.prototype.getJson=function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))},n.prototype.changeLanguage=function(t){var r=this;return t=t.toUpperCase(),new e((function(e,o){if(!n.consentLanguages.has(t))throw new s.GVLError("invalid language");if(t!==r.lang_)if(void 0!==n.LANGUAGE_CACHE.get(t)){var i=n.LANGUAGE_CACHE.get(t);for(var c in i)i.hasOwnProperty(c)&&(r[c]=i[c]);e()}else{if(!n.baseUrl)throw new s.GVLError("must specify GVL.baseUrl before changing the language");var u=n.baseUrl+n.languageFilename.replace("[LANG]",t);r.fetchJson(u).then((function(){r.cacheLanguage(t),e()})).catch((function(e){o(new s.GVLError("unable to load language: "+e.message))}))}else e();r.lang_=t}))},Object.defineProperty(n.prototype,"language",{get:function(){return this.lang_},enumerable:!0,configurable:!0}),n.prototype.isVendorList=function(e){return void 0!==e&&void 0!==e.vendors},n.prototype.deserialize=function(e){this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.vendorListVersion=e.vendorListVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors())},n.prototype.mapVendors=function(){var e=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((function(t){e.byPurposeVendorMap[t]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((function(t){e.bySpecialPurposeVendorMap[t]=new Set})),Object.keys(this.features).forEach((function(t){e.byFeatureVendorMap[t]=new Set})),Object.keys(this.specialFeatures).forEach((function(t){e.bySpecialFeatureVendorMap[t]=new Set})),Object.keys(this.vendors_).forEach((function(t){var n=e.vendors_[t],r=parseInt(t,10);n.purposes.forEach((function(t){e.byPurposeVendorMap[t+""].consent.add(r)})),n.specialPurposes.forEach((function(t){e.bySpecialPurposeVendorMap[t+""].add(r)})),n.legIntPurposes.forEach((function(t){e.byPurposeVendorMap[t+""].legInt.add(r)})),n.flexiblePurposes&&n.flexiblePurposes.forEach((function(t){e.byPurposeVendorMap[t+""].flexible.add(r)})),n.features.forEach((function(t){e.byFeatureVendorMap[t+""].add(r)})),n.specialFeatures.forEach((function(t){e.bySpecialFeatureVendorMap[t+""].add(r)}))}))},n.prototype.getFilteredVendors=function(e,t,n,r){var o=this,i=e.charAt(0).toUpperCase()+e.slice(1),s={};return("purpose"===e&&n?this["by"+i+"VendorMap"][t+""][n]:this["by"+(r?"Special":"")+i+"VendorMap"][t+""]).forEach((function(e){s[e+""]=o.vendors[e+""]})),s},n.prototype.getVendorsWithConsentPurpose=function(e){return this.getFilteredVendors("purpose",e,"consent")},n.prototype.getVendorsWithLegIntPurpose=function(e){return this.getFilteredVendors("purpose",e,"legInt")},n.prototype.getVendorsWithFlexiblePurpose=function(e){return this.getFilteredVendors("purpose",e,"flexible")},n.prototype.getVendorsWithSpecialPurpose=function(e){return this.getFilteredVendors("purpose",e,void 0,!0)},n.prototype.getVendorsWithFeature=function(e){return this.getFilteredVendors("feature",e)},n.prototype.getVendorsWithSpecialFeature=function(e){return this.getFilteredVendors("feature",e,void 0,!0)},Object.defineProperty(n.prototype,"vendors",{get:function(){return this.vendors_},enumerable:!0,configurable:!0}),n.prototype.narrowVendorsTo=function(e){var t=this;this.vendors_={},e.forEach((function(e){var n=e+"";t.fullVendorList[n]&&(t.vendors[n]=t.fullVendorList[n])})),this.mapVendors()},Object.defineProperty(n.prototype,"isReady",{get:function(){return this.isReady_},enumerable:!0,configurable:!0}),n.prototype.clone=function(){return new n(this.getJson())},n.LANGUAGE_CACHE=new Map,n.DEFAULT_LANGUAGE="EN",n.consentLanguages=new u.ConsentLanguages,n.latestFilename="vendor-list.json",n.versionedFilename="archives/vendor-list-v[VERSION].json",n.languageFilename="purposes-[LANG].json",n}(i.Cloneable);t.GVL=a}).call(this,n(33))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(){}return t.fetch=function(t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=0),new e((function(e,o){var i=new XMLHttpRequest;i.withCredentials=n,i.addEventListener("load",(function(){i.readyState==XMLHttpRequest.DONE&&(i.status>=200&&i.status<300&&"json"===i.responseType&&i.response?e(i.response):o(new Error("HTTP Status: "+i.status+" response type: "+i.responseType)))})),i.addEventListener("error",(function(){o(new Error("fetch error"))})),i.addEventListener("abort",(function(){o(new Error("fetch aborted"))})),i.open("GET",t,!0),i.responseType="json",i.timeout=r,i.ontimeout=function(){o(new Error("Timeout "+r+"ms "+t))},i.send(null)}))},t}();t.Json=n}).call(this,n(33))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),s=n(1),c=n(28),u=n(5),a=n(0),p=function(e){function t(o){var s=e.call(this)||this;return s.isServiceSpecific_=!1,s.supportOOB_=!0,s.useNonStandardStacks_=!1,s.purposeOneTreatment_=!1,s.publisherCountryCode_="AA",s.version_=t.MAX_ENCODING_VERSION,s.consentScreen_=0,s.policyVersion_=2,s.consentLanguage_="EN",s.cmpId_=0,s.cmpVersion_=0,s.vendorListVersion_=0,s[n]=new a.Vector,s[r]=new a.Vector,s[i]=new a.Vector,s[p]=new a.Vector,s[l]=new a.Vector,s[d]=new a.Vector,s[f]=new a.Vector,s[h]=new a.Vector,s[v]=new a.Vector,s[y]=new a.Vector,s[g]=new a.Vector,s[m]=new a.PurposeRestrictionVector,new u.PolyFill,o&&(s.gvl=o),s.created=new Date,s.updated(),s}var n,r,i,p,l,d,f,h,v,y,g,m;return o(t,e),Object.defineProperty(t.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){var t=this;this.gvl_=e,this.publisherRestrictions.gvl=e,e.readyPromise.then((function(){t.vendorListVersion_=e.vendorListVersion,t.policyVersion_=e.tcfPolicyVersion,t.consentLanguage_=e.language}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,(a.Fields.created,a.Fields.lastUpdated,n=a.Fields.specialFeatureOptIns,r=a.Fields.purposeConsents,i=a.Fields.purposeLegitimateInterest,p=a.Fields.publisherConsents,l=a.Fields.publisherLegitimateInterest,d=a.Fields.publisherCustomConsents,f=a.Fields.publisherCustomLegitimateInterest,h=a.Fields.vendorConsents,v=a.Fields.vendorLegitimateInterest,y=a.Fields.vendorsDisclosed,g=a.Fields.vendorsAllowed,m=a.Fields.publisherRestrictions,a.Fields.cmpId),{set:function(e){if(!(Number.isInteger(+e)&&e>1))throw new s.TCModelError("cmpId",e);this.cmpId_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.cmpId,{get:function(){return this.cmpId_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.cmpVersion,{set:function(e){if(!(Number.isInteger(+e)&&e>-1))throw new s.TCModelError("cmpVersion",e);this.cmpVersion_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.cmpVersion,{get:function(){return this.cmpVersion_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.consentScreen,{set:function(e){if(!(Number.isInteger(+e)&&e>-1))throw new s.TCModelError("consentScreen",e);this.consentScreen_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.consentScreen,{get:function(){return this.consentScreen_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.consentLanguage,{set:function(e){if(e=e.toUpperCase(),!t.consentLanguages.has(e))throw new s.TCModelError("consentLanguage",e);this.consentLanguage_=e,this.gvl&&void 0!==c.GVL.baseUrl&&this.gvl.changeLanguage(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.consentLanguage,{get:function(){return this.consentLanguage_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.publisherCountryCode,{set:function(e){if(!/^([A-z]){2}$/.test(e))throw new s.TCModelError("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.publisherCountryCode,{get:function(){return this.publisherCountryCode_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.vendorListVersion,{set:function(e){if(!(Number.isInteger(+e)&&e>0))throw new s.TCModelError("vendorListVersion",e);this.gvl?this.gvl.vendorListVersion!==+e&&(this.gvl=new c.GVL(+e)):this.vendorListVersion_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.vendorListVersion,{get:function(){return this.vendorListVersion_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.policyVersion,{set:function(e){if(!(Number.isInteger(+e)&&e>1))throw new s.TCModelError("policyVersion",e);this.policyVersion_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.policyVersion,{get:function(){return this.policyVersion_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.version,{set:function(e){if(!(Number.isInteger(+e)&&+e>0&&+e<=t.MAX_ENCODING_VERSION))throw new s.TCModelError("version",e,"min is 1, max version is "+t.MAX_ENCODING_VERSION);this.version_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.version,{get:function(){return this.version_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.isServiceSpecific,{set:function(e){this.isServiceSpecific_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.isServiceSpecific,{get:function(){return this.isServiceSpecific_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.useNonStandardStacks,{set:function(e){this.useNonStandardStacks_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.useNonStandardStacks,{get:function(){return this.useNonStandardStacks_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.supportOOB,{set:function(e){this.supportOOB_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.supportOOB,{get:function(){return this.supportOOB_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.purposeOneTreatment,{set:function(e){this.purposeOneTreatment_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,a.Fields.purposeOneTreatment,{get:function(){return this.purposeOneTreatment_},enumerable:!0,configurable:!0}),t.prototype.setAllVendorConsents=function(){this.vendorConsents.setAll(this.gvl.vendors)},t.prototype.unsetAllVendorConsents=function(){this.vendorConsents.empty()},t.prototype.setAllVendorsDisclosed=function(){this.vendorsDisclosed.setAll(this.gvl.vendors)},t.prototype.unsetAllVendorsDisclosed=function(){this.vendorsDisclosed.empty()},t.prototype.setAllVendorsAllowed=function(){this.vendorsAllowed.setAll(this.gvl.vendors)},t.prototype.unsetAllVendorsAllowed=function(){this.vendorsAllowed.empty()},t.prototype.setAllVendorLegitimateInterest=function(){this.vendorLegitimateInterest.setAll(this.gvl.vendors)},t.prototype.unsetAllVendorLegitimateInterest=function(){this.vendorLegitimateInterest.empty()},t.prototype.setAllPurposeConsents=function(){this.purposeConsents.setAll(this.gvl.purposes)},t.prototype.unsetAllPurposeConsents=function(){this.purposeConsents.empty()},t.prototype.setAllPurposeLegitimateInterest=function(){this.purposeLegitimateInterest.setAll(this.gvl.purposes)},t.prototype.unsetAllPurposeLegitimateInterest=function(){this.purposeLegitimateInterest.empty()},t.prototype.setAllSpecialFeatureOptIns=function(){this.specialFeatureOptIns.setAll(this.gvl.specialFeatures)},t.prototype.unsetAllSpecialFeatureOptIns=function(){this.specialFeatureOptIns.empty()},t.prototype.setAll=function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterest(),this.setAllSpecialFeatureOptIns(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterest()},t.prototype.unsetAll=function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterest(),this.unsetAllSpecialFeatureOptIns(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterest()},Object.defineProperty(t.prototype,"numCustomPurposes",{get:function(){var e=0;return this.customPurposes&&(e=Object.keys(this.customPurposes).length),e},set:function(e){if(!this.customPurposes){this.customPurposes={};for(var t=0;t<e;t++){var n=(t+1).toString();this.customPurposes[n]={id:t+1,name:"publisher purpose "+n,description:"publisher purpose description"+n,descriptionLegal:"publisher purpose legal description "+n}}}},enumerable:!0,configurable:!0}),t.prototype.isGVLMapItem=function(e){return"number"==typeof e.id&&"string"==typeof e.name},t.prototype.updated=function(){this.lastUpdated=new Date},t.MAX_ENCODING_VERSION=2,t.consentLanguages=c.GVL.consentLanguages,t}(i.Cloneable);t.TCModel=p},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(51)),r(n(52)),r(n(53))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.Response=function(){this.cmpId=r.CmpApiModel.cmpId,this.cmpVersion=r.CmpApiModel.cmpVersion,this.gdprApplies=r.CmpApiModel.gdprApplies,this.tcfPolicyVersion=r.CmpApiModel.tcfPolicyVersion}},function(e,t,n){"use strict";n.r(t);var r=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},o=setTimeout;function i(e){return Boolean(e&&void 0!==e.length)}function s(){}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void p(t.promise,e)}a(t.promise,r)}else(1===e._state?a:p)(t.promise,e._value)}))):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void f((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){p(e,t)}var r,o}function p(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function d(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,a(t,e))}),(function(e){n||(n=!0,p(t,e))}))}catch(e){if(n)return;n=!0,p(t,e)}}c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(s);return u(this,new d(e,t,n)),n},c.prototype.finally=r,c.all=function(e){return new c((function(t,n){if(!i(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function s(e,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var c=i.then;if("function"==typeof c)return void c.call(i,(function(t){s(e,t)}),n)}r[e]=i,0==--o&&t(r)}catch(e){n(e)}}for(var c=0;c<r.length;c++)s(c,r[c])}))},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,n){n(e)}))},c.race=function(e){return new c((function(t,n){if(!i(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=e.length;r<o;r++)c.resolve(e[r]).then(t,n)}))},c._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){o(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};t.default=c},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(35)),r(n(7)),r(n(31)),r(n(56))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(15))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){function t(t){var n=e.call(this,t)||this;return delete n.outOfBand,n}return o(t,e),t.prototype.createVectorField=function(e){return s(e).reduce((function(e,t){return e+(t[1]?"1":"0")}),"")},t.prototype.createRestrictions=function(e){var t={};if(e.numRestrictions>0){var n=e.getMaxVendorId();e.getRestrictions().forEach((function(e){t[e.purposeId.toString()]="_".repeat(n)}));for(var r=function(n){var r=n+1;e.getRestrictions(r).forEach((function(e){var r=e.restrictionType.toString(),o=e.purposeId.toString(),i=t[o].substr(0,n),s=t[o].substr(n+1);t[o]=i+r+s}))},o=0;o<n;o++)r(o)}return t},t}(n(16).TCData);t.InAppTCData=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this,t)||this;return n.name="DecodingError",n}return o(t,e),t}(Error);t.DecodingError=i},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this,t)||this;return n.name="EncodingError",n}return o(t,e),t}(Error);t.EncodingError=i},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this,t)||this;return n.name="GVLError",n}return o(t,e),t}(Error);t.GVLError=i},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t,n,r){void 0===r&&(r="");var o=e.call(this,"invalid value "+n+" passed for "+t+" "+r)||this;return o.name="TCModelError",o}return o(t,e),t}(Error);t.TCModelError=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),i=n(18),s=n(13),c=n(3),u=n(22),a=n(23),p=n(24),l=function(){function e(){}var t,n,l,d,f,h,v,y,g,m,_,b,E,O,I,C,S,P,L,w,V,F,A,T,M,j;return t=r.Fields.version,n=r.Fields.created,l=r.Fields.lastUpdated,d=r.Fields.cmpId,f=r.Fields.cmpVersion,h=r.Fields.consentScreen,v=r.Fields.consentLanguage,y=r.Fields.vendorListVersion,g=r.Fields.policyVersion,m=r.Fields.isServiceSpecific,_=r.Fields.useNonStandardStacks,b=r.Fields.specialFeatureOptIns,E=r.Fields.purposeConsents,O=r.Fields.purposeLegitimateInterest,I=r.Fields.purposeOneTreatment,C=r.Fields.publisherCountryCode,S=r.Fields.vendorConsents,P=r.Fields.vendorLegitimateInterest,L=r.Fields.publisherRestrictions,w=r.Fields.vendorsDisclosed,V=r.Fields.vendorsAllowed,F=r.Fields.publisherConsents,A=r.Fields.publisherLegitimateInterest,T=r.Fields.numCustomPurposes,M=r.Fields.publisherCustomConsents,j=r.Fields.publisherCustomLegitimateInterest,e[t]=c.IntEncoder,e[n]=i.DateEncoder,e[l]=i.DateEncoder,e[d]=c.IntEncoder,e[f]=c.IntEncoder,e[h]=c.IntEncoder,e[v]=u.LangEncoder,e[y]=c.IntEncoder,e[g]=c.IntEncoder,e[m]=o.BooleanEncoder,e[_]=o.BooleanEncoder,e[b]=s.FixedVectorEncoder,e[E]=s.FixedVectorEncoder,e[O]=s.FixedVectorEncoder,e[I]=o.BooleanEncoder,e[C]=u.LangEncoder,e[S]=p.VendorVectorEncoder,e[P]=p.VendorVectorEncoder,e[L]=a.PurposeRestrictionVectorEncoder,e.segmentType=c.IntEncoder,e[w]=p.VendorVectorEncoder,e[V]=p.VendorVectorEncoder,e[F]=s.FixedVectorEncoder,e[A]=s.FixedVectorEncoder,e[T]=c.IntEncoder,e[M]=s.FixedVectorEncoder,e[j]=s.FixedVectorEncoder,e}();t.FieldEncoderMap=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.has=function(t){return e.langSet.has(t)},e.prototype.forEach=function(t){e.langSet.forEach(t)},Object.defineProperty(e.prototype,"size",{get:function(){return e.langSet.size},enumerable:!0,configurable:!0}),e.langSet=new Set(["EN","BG","CS","DA","DE","EL","ES","ET","FI","FR","GA","HR","HU","IT","LT","LV","MT","NL","PL","PT","RO","SK","SL","SV"]),e}();t.ConsentLanguages=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PolyFill=function(){Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),s=n(19),c=n(12),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bitLength=0,t.map=new Map,t}return o(t,e),t.prototype.has=function(e){return this.map.has(e)},t.prototype.isOkToHave=function(e,t,n){var r=n.toString();if(this.gvl){if(!this.gvl.vendors||!this.gvl.vendors[r])return!1;var o=this.gvl.vendors[r];if(o.flexiblePurposes)switch(e){case c.RestrictionType.NOT_ALLOWED:return o.legIntPurposes.includes(t)||o.purposes.includes(t);case c.RestrictionType.REQUIRE_CONSENT:return o.flexiblePurposes.includes(t)&&o.legIntPurposes.includes(t);case c.RestrictionType.REQUIRE_LI:return o.flexiblePurposes.includes(t)&&o.purposes.includes(t);default:return!1}else if(e===c.RestrictionType.NOT_ALLOWED)return o.legIntPurposes.includes(t)||o.purposes.includes(t)}return!0},t.prototype.add=function(e,t){var n=this;if(this.isOkToHave(t.restrictionType,t.purposeId,e)){var r=t.hash;this.has(r)||(this.map.set(r,new s.BinarySearchTree),this.bitLength=0),this.getRestrictions(e).forEach((function(r){r.purposeId===t.purposeId&&n.remove(e,r)})),this.map.get(r).add(e)}},t.prototype.getVendors=function(e){var t=[];if(e){var n=e.hash;this.has(n)&&(t=this.map.get(n).get())}else{var r=new Set;this.map.forEach((function(e){e.get().forEach((function(e){r.add(e)}))})),t=Array.from(r)}return t},t.prototype.getRestrictionType=function(e,t){var n;return this.getRestrictions(e).forEach((function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)})),n},t.prototype.vendorHasRestriction=function(e,t){for(var n=!1,r=this.getRestrictions(e),o=0;o<r.length&&!n;o++)n=t.isSameAs(r[o]);return n},t.prototype.getMaxVendorId=function(){var e=0;return this.map.forEach((function(t){e=Math.max(t.max(),e)})),e},t.prototype.getRestrictions=function(e){var t=[];return this.map.forEach((function(n,r){e?n.contains(e)&&t.push(i.PurposeRestriction.unHash(r)):t.push(i.PurposeRestriction.unHash(r))})),t},t.prototype.getPurposes=function(){var e=new Set;return this.map.forEach((function(t,n){e.add(i.PurposeRestriction.unHash(n).purposeId)})),Array.from(e)},t.prototype.remove=function(e,t){var n=t.hash,r=this.map.get(n);r&&(r.remove(e),r.isEmpty()&&(this.map.delete(n),this.bitLength=0))},Object.defineProperty(t.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){var t=this;this.gvl_||(this.gvl_=e,this.numRestrictions&&this.map.forEach((function(e,n){var r=i.PurposeRestriction.unHash(n);e.get().forEach((function(n){t.isOkToHave(r.restrictionType,r.purposeId,n)||e.remove(n)}))})))},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.map.size},t.prototype.isEncodable=function(){return void 0!==this.gvl_||this.isEmpty()},Object.defineProperty(t.prototype,"numRestrictions",{get:function(){return this.map.size},enumerable:!0,configurable:!0}),t}(n(4).Cloneable);t.PurposeRestrictionVector=u},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),i=function(){function e(){}return e.core="core",e.vendorsDisclosed=o.Fields.vendorsDisclosed,e.vendorsAllowed=o.Fields.vendorsAllowed,e.publisherTC="publisherTC",e.ID_TO_KEY={0:e.core,1:e.vendorsDisclosed,2:e.vendorsAllowed,3:e.publisherTC},e.KEY_TO_ID=((r={})[e.core]=0,r[e.vendorsDisclosed]=1,r[e.vendorsAllowed]=2,r[e.publisherTC]=3,r),e}();t.Segments=i},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var c=n(4),u=n(1),a=n(5),p=function(e){function t(){var t=e.call(this)||this;return t.bitLength=0,t.maxId_=0,t.set_=new Set,new a.PolyFill,t}return o(t,e),t.prototype[Symbol.iterator]=function(){var e;return i(this,(function(t){switch(t.label){case 0:e=1,t.label=1;case 1:return e<=this.maxId?[4,[e,this.has(e)]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}}))},Object.defineProperty(t.prototype,"maxId",{get:function(){return this.maxId_},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this.set_.has(e)},t.prototype.unset=function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t.unset(e)})):(this.set_.delete(e),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((function(e){t.maxId_=Math.max(t.maxId,e)}))))},t.prototype.set=function(e){var t=this;if(Array.isArray(e))e.forEach((function(e){return t.set(e)}));else{if(!(Number.isInteger(e)&&e>0))throw new u.TCModelError("set()",e,"must be positive integer");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}},t.prototype.empty=function(){this.set_=new Set},t.prototype.forEach=function(e){var t,n;try{for(var r=s(this),o=r.next();!o.done;o=r.next()){var i=o.value;e(i[1],i[0])}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this.set_.size},enumerable:!0,configurable:!0}),t.prototype.setAll=function(e){var t=this;Object.keys(e).forEach((function(e){t.set(+e)}))},t}(c.Cloneable);t.Vector=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.FieldSequence=function(){var e,t;this[1]=((e={})[r.Segments.core]=[r.Fields.version,r.Fields.created,r.Fields.lastUpdated,r.Fields.cmpId,r.Fields.cmpVersion,r.Fields.consentScreen,r.Fields.consentLanguage,r.Fields.vendorListVersion,r.Fields.purposeConsents,r.Fields.vendorConsents],e),this[2]=((t={})[r.Segments.core]=[r.Fields.version,r.Fields.created,r.Fields.lastUpdated,r.Fields.cmpId,r.Fields.cmpVersion,r.Fields.consentScreen,r.Fields.consentLanguage,r.Fields.vendorListVersion,r.Fields.policyVersion,r.Fields.isServiceSpecific,r.Fields.useNonStandardStacks,r.Fields.specialFeatureOptIns,r.Fields.purposeConsents,r.Fields.purposeLegitimateInterest,r.Fields.purposeOneTreatment,r.Fields.publisherCountryCode,r.Fields.vendorConsents,r.Fields.vendorLegitimateInterest,r.Fields.publisherRestrictions],t[r.Segments.publisherTC]=[r.Fields.publisherConsents,r.Fields.publisherLegitimateInterest,r.Fields.numCustomPurposes,r.Fields.publisherCustomConsents,r.Fields.publisherCustomLegitimateInterest],t[r.Segments.vendorsAllowed]=[r.Fields.vendorsAllowed],t[r.Segments.vendorsDisclosed]=[r.Fields.vendorsDisclosed],t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.SegmentSequence=function(e,t){this[1]=[r.Segments.core],this[2]=[r.Segments.core],2==+e.version&&(e.isServiceSpecific?this[2].push(r.Segments.publisherTC):((t||e[r.Fields.supportOOB])&&this[2].push(r.Segments.vendorsDisclosed),t||(e[r.Fields.supportOOB]&&e[r.Fields.vendorsAllowed].size>0&&this[2].push(r.Segments.vendorsAllowed),this[2].push(r.Segments.publisherTC))))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),o=n(14),i=n(17),s=n(26),c=n(1),u=n(0),a=function(){function e(){}return e.encode=function(e,t){if(!u.Segments[t])throw new c.EncodingError("invalid segment type: "+t);var n=this.fieldSequence[e.version.toString()][t],s="";return t!==u.Segments.core&&(s=i.IntEncoder.encode(u.Segments.KEY_TO_ID[t],o.BitLength.segmentType)),n.forEach((function(n){var r=e[n],u=o.BitLength[n],a=i.FieldEncoderMap[n];try{s+=a.encode(r,u)}catch(e){throw new c.EncodingError("Error encoding "+t+"->"+n+": "+e.message)}})),r.Base64Url.encode(s)},e.decode=function(e,t,n){var s=this.fieldSequence[t.version.toString()][n],a=r.Base64Url.decode(e),p=0;return n!==u.Segments.core&&(p+=o.BitLength.segmentType),s.forEach((function(e){var n=i.FieldEncoderMap[e],r=a.substr(p,o.BitLength[e]);if(t[e]=n.decode(r),o.BitLength[e])p+=o.BitLength[e];else{if(!t[e].bitLength)throw new c.DecodingError("error decoding "+e);p+=t[e].bitLength}})),t},e.fieldSequence=new s.FieldSequence,e}();t.SegmentEncoder=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(1),i=n(3),s=n(0),c=n(30),u=function(){function e(){}return e.preEncode=function(e){if(!(e=e.clone()).gvl)throw new o.EncodingError("Unable to encode TCModel without a GVL");if(!e.isServiceSpecific){var t=Object.keys(e.gvl.vendors).map((function(e){return parseInt(e,10)}));e[s.Fields.vendorsDisclosed].set(t)}return e},e.encode=function(e,t){e=this.preEncode(e);for(var n="",o=new r.SegmentSequence(e,!!t)[e.version.toString()],i=o.length,s=0;s<i;s++){var c="";s<i-1&&(c="."),n+=r.SegmentEncoder.encode(e,o[s])+c}return n},e.decode=function(e){for(var t=new c.TCModel,n=e.split("."),o=n.length,u=0;u<o;u++){var a=n[u],p=void 0;if(0===u)p=s.Segments.core;else{var l=r.Base64Url.decode(a.charAt(0)).substr(0,r.BitLength.segmentType);p=s.Segments.ID_TO_KEY[i.IntEncoder.decode(l).toString()]}r.SegmentEncoder.decode(a,t,p)}return t},e}();t.TCString=u},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.CmpStatus||(t.CmpStatus={})).STUB="stub",r.LOADING="loading",r.LOADED="loaded",r.ERROR="error"},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.DisplayStatus||(t.DisplayStatus={})).VISIBLE="visible",r.HIDDEN="hidden",r.DISABLED="disabled"},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.EventStatus||(t.EventStatus={})).TC_LOADED="tcloaded",r.CMP_UI_SHOWN="cmpuishown",r.USER_ACTION_COMPLETE="useractioncomplete"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),o=function(){function e(){this.eventQueue=new Map,this.queueNumber=0}return e.prototype.add=function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++},e.prototype.remove=function(e){return this.eventQueue.delete(e)},e.prototype.exec=function(){this.eventQueue.forEach((function(e,t){new r.GetTCDataCommand(e,void 0,t)}))},e.prototype.clear=function(){this.eventQueue.clear()},Object.defineProperty(e.prototype,"size",{get:function(){return this.eventQueue.size},enumerable:!0,configurable:!0}),e}();t.EventListenerQueue=o},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=function(e){function t(){var t=e.call(this)||this;return t.cmpLoaded=!0,t.cmpStatus=i.CmpApiModel.cmpStatus,t.displayStatus=i.CmpApiModel.displayStatus,t.apiVersion=""+i.CmpApiModel.apiVersion,i.CmpApiModel.tcModel&&i.CmpApiModel.tcModel.vendorListVersion&&(t.gvlVersion=+i.CmpApiModel.tcModel.vendorListVersion),t}return o(t,e),t}(n(32).Response);t.Ping=s},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=n(57),c=n(5),u=function(){function e(e,t,n){this.API_FUNCTION_NAME="__tcfapi",this.win=window,new c.PolyFill,this.throwIfInvalidInt(e,"cmpId",2),this.throwIfInvalidInt(t,"cmpVersion",0),i.CmpApiModel.cmpId=e,i.CmpApiModel.cmpVersion=t,n&&(this.customCommands=n);try{this.stubQueue=this.tcfapi()}catch(e){}finally{this.tcfapi=this.wrapPageCallHandler()}}return e.prototype.throwIfInvalidInt=function(e,t,n){if(!("number"==typeof e&&Number.isInteger(e)&&e>=n))throw new Error("Invalid "+t+": "+e)},e.prototype.throwIfCmpApiIsDisabled=function(){if(i.CmpApiModel.disabled)throw new Error("CmpApi Disabled")},Object.defineProperty(e.prototype,"tcfapi",{get:function(){return window[this.API_FUNCTION_NAME]},set:function(e){window[this.API_FUNCTION_NAME]=e},enumerable:!0,configurable:!0}),e.prototype.purgeStubQueue=function(){var e=this;this.stubQueue&&(this.stubQueue.forEach((function(t){e.wrapPageCallHandler().apply(void 0,o(t))})),delete this.stubQueue)},Object.defineProperty(e.prototype,"tcString",{set:function(e){this.throwIfCmpApiIsDisabled(),i.CmpApiModel.tcString=e,this.purgeStubQueue()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tcModel",{set:function(e){this.throwIfCmpApiIsDisabled(),i.CmpApiModel.tcModel=e,this.purgeStubQueue()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uiVisible",{set:function(e){this.throwIfCmpApiIsDisabled(),i.CmpApiModel.uiVisible=e},enumerable:!0,configurable:!0}),e.prototype.disable=function(){i.CmpApiModel.disabled=!0},e.prototype.wrapPageCallHandler=function(){var e=this;return function(t,n,r,o){e.pageCallHandler(t,n,r,o)}},e.prototype.pageCallHandler=function(e,t,n,r){if("string"==typeof e)if(2===t){if("function"!=typeof n)throw new Error("invalid callback function");this.customCommands&&this.customCommands[e]?this.customCommands[e](n,r):s.CommandMap[e]?new s.CommandMap[e](n,r):n('CmpApi does not support the "'+e+'" command',!1)}else n("unsupported version: "+t,!1);else n("invalid command: "+e,!1)},e}();t.CmpApi=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(58),o=n(9),i=n(59),s=n(60),c=n(61),u=n(62),a=n(15),p=function(){function e(){}var t,n,p,l,d,f;return t=a.TCFCommands.PING,n=a.TCFCommands.GET_TC_DATA,p=a.TCFCommands.GET_IN_APP_TC_DATA,l=a.TCFCommands.GET_VENDOR_LIST,d=a.TCFCommands.ADD_EVENT_LISTENER,f=a.TCFCommands.REMOVE_EVENT_LISTENER,e[t]=r.PingCommand,e[n]=o.GetTCDataCommand,e[p]=i.GetInAppTCDataCommand,e[l]=s.GetVendorListCommand,e[d]=c.AddEventListenerCommand,e[f]=u.RemoveEventListenerCommand,e}();t.CommandMap=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.success=function(){(0,this.callback)(new i.Ping)},t}(n(10).Command);t.PingCommand=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=n(7),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.success=function(){(0,this.callback)(new s.InAppTCData(this.param),!0)},t}(i.GetTCDataCommand);t.GetInAppTCDataCommand=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=n(10),c=n(8),u=n(5),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return new u.PolyFill,r}return o(t,e),t.prototype.success=function(){var e,t=this,n=this.callback;if(this.param){var r=function(){t.fail()};(e=new c.GVL(this.param)).readyPromise.then((function(){n(e.getJson(),!0)}),r).catch(r)}else{var o=i.CmpApiModel.tcModel;o.gvl?n(o.gvl.getJson(),!0):(o.gvl=new c.GVL(o.vendorListVersion),o.gvl.readyPromise.then((function(){n(o.gvl.getJson(),!0)}),this.fail).catch(this.fail))}},t.prototype.isValid=function(){var e=!0;return void 0!==this.param&&(e=("string"==typeof this.param||"number"==typeof this.param)&&(Number.isInteger(+this.param)&&+this.param>0||"LATEST"===this.param)),e},t}(s.Command);t.GetVendorListCommand=a},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),s=n(2),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.success=function(){var e=s.CmpApiModel.eventQueue.add(this.callback);void 0!==s.CmpApiModel.tcModel&&new i.GetTCDataCommand(this.callback,void 0,e)},t}(i.GetTCDataCommand);t.AddEventListenerCommand=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),s=n(2),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.success=function(){(0,this.callback)(!0)},t.prototype.fail=function(){(0,this.callback)(!1)},t.prototype.isValid=function(){return"number"==typeof this.param&&s.CmpApiModel.eventQueue.remove(this.param)},t}(i.Command);t.RemoveEventListenerCommand=c}]);